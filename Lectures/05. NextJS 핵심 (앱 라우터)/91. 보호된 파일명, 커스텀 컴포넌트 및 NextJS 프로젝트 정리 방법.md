app 디렉토리에 있는 이 두 파일은

아직 설명하지 않았습니다

하나는 globals.css 파일입니다

여기에 CSS 스타일을 몇 개 설정했습니다

이 파일은 layout.js 파일에 import 되는데

이로 인해 로딩된 모든 페이지에서

사용가능한 것입니다

NextJS에서 CSS 파일을 import하는 방법입니다

대부분의 바닐라 리액트 프로젝트에도

사용할 수 있는 방법입니다

이는 로딩된 모든 페이지에서

이 스타일을 사용할 수 있도록 하는 것입니다

두 번째로 icon.png 파일이 있는데

이 역시 특별한 파일명입니다

icon이라는 이름의 이미지를 넣으면

NextJS에서 favicon으로 사용하게 됩니다

layout.js 파일에 favicon 설정을

하지 않은 것을 알아차렸을 수 있습니다

이 탭에 보이는 작은 아이콘 같은 것을 의미하는데

설정을 안했음에도

자세히 보면 있습니다

이 icon.png 파일을 넣었기 때문인데

특별한 icon이라는 이름을 사용했으므로

icon이라는 이름의 이미지를

app 폴더에 이와 같이 직접 넣으면

favicon이 됩니다

지금까지 본 것과 같이 app 폴더는 아주 중요합니다

여기에서 폴더를 추가해 라우트를 정의하고

page.js, icon.png 또는 layout.js 와 같은

보호 파일명이 있어서

다양한 기능을 사용할 수 있게하는 것입니다

라우트를 설정하기 위해 page.js가

필요한 것처럼 라우트 레이아웃이 필요한데

NextJS에는 이런 특수한 파일에 한정되지 않습니다

예를 들어

일반 리액트 컴포넌트를 추가할 수 있으나

페이지를 취급되지 않습니다

이를 위해 이 이미지를

별도의 컴포넌트로 이 헤더에 넣는다고 합시다

여기서 자르고

컴포넌트에 추가합니다

새로운 자바스크립트 파일을 추가해서 할 수도 있는데

프로젝트 아무 곳에 위치 할 수 있습니다

예시로 page.js 파일 옆에 놓아

header.js라는 이름을 부여합니다

선호한다면

확장자로 .jsx를 사용해도 됩니다

여기서는 기본인

.js를 사용하도록 하겠습니다

여기에 파일을 추가했습니다

파일의 이름을 Header라고

대문자로 시작할 수 있지만

여기의 모든 파일명과

중요한 NextJS 파일명이 소문자로 시작하므로

계속 소문자를 사용하겠습니다

컴포넌트 파일에도 마찬가지입니다

이제 여기서 함수를 export할 수 있는데

Header라는 컴포넌트 함수입니다

그리고 프래그먼트를 반환하는데

그 곳에 h1 요소 옆에 이미지가 들어갑니다

이것 역시 표준 리액트 컴포넌트인데

이 컴포넌트

NextJS에서 자동으로 포착하거나

취급하는 것이 아닙니다

레이아웃 또는 페이지로 렌더링 되지 않습니다

지금은 무시되고 있는데

header가 이제 더이상 특별한 파일명이 아니기 때문입니다

이제 import이 가능합니다

이렇게 page.js에 import할 수 있고

바닐라 리액트에서 배운 것과 같이

출력도 할 수 있습니다

여전히 리액트에서 작업하기 때문에

컴포넌트와 JSX로 작업하는 것인데

단지 추가 기능이 있는 것뿐입니다

이제 저장하고 새로고침을 하면

예전과 같은 내용이 보이지만

이제는 커스텀 컴포넌트가 사용되고 있습니다

이 컴포넌트는 어디에나 저장할 수 있습니다

app 폴더에 components 폴더를 만들어

거기에 header.js 옮길 수도 있습니다

이런 경우 import한 것을 업데이트하고

'./components/header'에서

Header를 꼭 import해야 합니다

아무튼 모든 것이 작동합니다

여기서 page.js의 중요성이 보입니다

이 components 폴더를 추가했으니

이제 /components에 접속 가능하다고

생각할 수 있습니다

그러나 404 오류가 보일 것인데

NextJS가 이 파일을

라우트와 관련하여 무시하고

여기에 page.js 파일에 없기 때문입니다

Next App Router 작동되는 원리입니다

개인적으로 컴포넌트를

app 폴더 외부에 저장하는 것을 선호합니다

그러나 당연히 내부에 저장해도 됩니다

NextJS 공식문서에도

다양한 NextJS 프로젝트 구성 방법과

컴포넌트 저장 위치에 대한 글이 있을 정도입니다

이 강의에 기사가 링크되어 있으니

원하는 형태를 골라

구성할 수 있습니다

저는 app 폴더 외부에 컴포넌트를 저장하는 것을 선호하는데

그러면 app 폴더를 라우팅과 그와 관련된 일에만

사용할 수 있기 때문입니다

컴포넌트 폴더가 header.js에서 이동했으니

import들을 업데이트해야 합니다

여기서 NextJS 프로젝트에서 사용할 수 있는

다른 기능을 이용할 수 있습니다

import 경로에 앳 사인(@)를 사용해

root 프로젝트를 조회할 수 있습니다

app 폴더 외부에 있는 root 프로젝트를 의미합니다

이 jsconfig 파일에서 이 가명을 설정하는데

편리한 기능을 단순화 시켜

import 경로도 단순화 할 수 있습니다

이제부터 root 프로젝트 폴더를

@을 사용해 조회할 수 있고 그러고 components 폴더에 들어가

header.js 파일을 표적할 수 있습니다

이 기능은 이렇게 사용할 수 있습니다

이를 모두하면 마찬가지로

시작 페이지에 같은 내용이 나오지만

이제 컴포넌트 폴더가 아웃소싱 되었습니다
