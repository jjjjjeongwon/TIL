# 128. 로컬 FileSystem에 파일 저장 금지!

# 캐시가 어떻게 동작되는지 배웠으니 관련된 문제점을 고쳐보려고 한다

## 📌 이미지가 보이지 않는 이유?

배포 환경 서버에서 새로운 음식을 등록하면 왜 이미지가 보이지 않을까?

- 우리가 이미지를 `public 폴더`안의` images 폴더`에 저장하고 있기 때문에 이 방식의 문제점은 개발 환경에서는 이 폴더에 접근이 가능하지만 배포 환경에서는 여기 있는 `.next 폴더`에 복사가 되고 이 `.next 폴더` 안에 캐싱된 페이지 등이 모두 들어있고 NextJS 배포 환경에서 이 폴더가 사용됨
- 그런데 **새로운 이미지를 public 폴더에 저장하게 되면 배포 환경 서버는 이 폴더에 관여하지 않기 때문에** 무시됨
- 그러므로 다음 프로젝트를 배포할 때 이 public 폴더는 엄밀히 말해 배포하지 않아도 됨
  - NextJS는 관여하지 않는 폴더이기 때문
- 이러한 동작은 NextJS 공식 문서에 설명되어 있으며 여기에서는 런타임에 생성된 모든 파일은 AWS S3와 같은 파일 저장 서비스를 이용하는 것을 추천하고 있음
