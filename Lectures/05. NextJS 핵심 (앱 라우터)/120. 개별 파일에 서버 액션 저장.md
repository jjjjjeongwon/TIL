# 120. ê°œë³„ íŒŒì¼ì— ì„œë²„ ì•¡ì…˜ ì €ì¥

- ì»´í¬ë„ŒíŠ¸ì— `Server Action`ì„ ì¶”ê°€í•  ìˆ˜ ìˆì§€ë§Œ ì´ ë°©ë²•ì€ **ì¶”ê°€ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹ ë•Œ**ì—ë§Œ ë™ì‘í•¨!
- ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì´ ì»´í¬ë„ŒíŠ¸ ë‚´ ì–´ë”˜ê°€ì—ì„œ í´ë¼ì´ì–¸íŠ¸ìš© ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `'use client'`ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì—ëŸ¬ ë°œìƒ
  - **server actionsì€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸°** ë•Œë¬¸

```jsx
"use client";

import ImagePicker from "../image-picker";
import classes from "./page.module.css";

export default function ShareMealPage() {
  async function shareMeal(formData) {
    "use server";

    const meal = {
      title: formData.get("title"),
      summary: formData.get("summary"),
      instructions: formData.get("instructions"),
      image: formData.get("image"),
      creator: formData.get("name"),
      creator_email: formData.get("email"),
    };

    console.log(meal);
  }
  return (
    <>
      <header className={classes.header}>
        <h1>
          Share your <span className={classes.highlight}>favorite meal</span>
        </h1>
        <p>Or any other meal you feel needs sharing!</p>
      </header>
      <main className={classes.main}>
        <form className={classes.form} action={shareMeal}>
          <div className={classes.row}>
            <p>
              <label htmlFor="name">Your name</label>
              <input type="text" id="name" name="name" required />
            </p>
            <p>
              <label htmlFor="email">Your email</label>
              <input type="email" id="email" name="email" required />
            </p>
          </div>
          <p>
            <label htmlFor="title">Title</label>
            <input type="text" id="title" name="title" required />
          </p>
          <p>
            <label htmlFor="summary">Short Summary</label>
            <input type="text" id="summary" name="summary" required />
          </p>
          <p>
            <label htmlFor="instructions">Instructions</label>
            <textarea
              id="instructions"
              name="instructions"
              rows="10"
              required
            ></textarea>
          </p>
          <ImagePicker label="Your image" name="image" />
          <p className={classes.actions}>
            <button type="submit">Share Meal</button>
          </p>
        </form>
      </main>
    </>
  );
}
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-02-24 á„‹á…©á„’á…® 7.12.02.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/6d4a6c9c-7168-49b2-8383-1bd212b2d8d4/890176ba-84fd-4e4a-b502-dd47fec401fc/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-02-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_7.12.02.png)

## ğŸš«Â ë¬¸ì œ ë°œìƒ

- ë¬¼ë¡  ì—¬ê¸°ì„œëŠ” `'use client'`ê°€ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ ë‚˜ì¤‘ì—ëŠ” í•„ìš”í•  ìˆ˜ ìˆìŒ
- ë˜ **ì„œë²„ ì¸¡ì˜ form ì œì¶œ ì œì–´ ë¡œì§ì„ JSX ì½”ë“œì™€ ê°™ì€ íŒŒì¼ì— ë‘ê³  ì‹¶ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ**, ë¶„ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆë‹¤
  - ê·¸ëŸ° ì´ìœ ë¡œ server actionsì„ ë‹¤ë¥¸ íŒŒì¼ì— ì €ì¥í•  ìˆ˜ ìˆìŒ

## ğŸ’¡Â í•´ê²°?

- `root` ì˜ `lib í´ë”`ë¡œ ê°€ì„œ í´ë” ì•ˆì— `actions.jsíŒŒì¼`ì„ ë§Œë“¦(íŒŒì¼ ì´ë¦„ì€ ë¬´ê´€)
- ì´ íŒŒì¼ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ ë§¨ ìœ„ì— `'use server'` ì§€ì‹œì–´ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ê²ƒ
  - í•¨ìˆ˜ì˜ ì•ˆì´ ì•„ë‹ˆë¼ íŒŒì¼ì˜ ë§¨ ìœ„ì—!
- **íŒŒì¼ì˜ ë§¨ ìœ„ì— ì¶”ê°€í•˜ë©´ í•´ë‹¹ íŒŒì¼ì—ì„œ ì •ì˜í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ Server Actionsì´ ë¨**
- ì´ì œ `shareMeal` í•¨ìˆ˜ë¥¼ ì˜ë¼ë‚´ì„œ `actions.js` íŒŒì¼ë¡œ ì˜®ê¹€
  - ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê³  `use server`ë¥¼ ì§€ì›€, íŒŒì¼ì˜ ë§¨ ìœ„ì— ì´ë¯¸ ì¶”ê°€í•´ ì£¼ì—ˆê¸° ë•Œë¬¸
  ```jsx
  "use server";

  export async function shareMeal(formData) {
    const meal = {
      title: formData.get("title"),
      summary: formData.get("summary"),
      instructions: formData.get("instructions"),
      image: formData.get("image"),
      creator: formData.get("name"),
      creator_email: formData.get("email"),
    };

    console.log(meal);
  }
  ```

### ğŸ“ŒÂ ì´ì œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê³ , í•„ìš”í•˜ë‹¤ë©´ `ShareMealPage` ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½í•  ìˆ˜ ë„ ìˆìŒ

- **ë¬¸ì œëŠ”,** **ê°™ì€ íŒŒì¼ì— í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì½”ë“œì™€ ì„œë²„ ì¸¡ ì½”ë“œë¥¼ ì •ì˜**í•˜ë ¤ê³  í–ˆì—ˆê³ 
  NextJSì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì´ë¥¼ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥**í•˜ê¸° ë•Œë¬¸ì—
  ì„œë²„ ì¸¡ ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ìœ„ì¹˜í•´ì„œ **ë³´ì•ˆ ë¬¸ì œê°€ ìƒê¸°ê±°ë‚˜ ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒ**í•  ìˆ˜ ìˆìŒ
- ì´ëŸ¬í•œ ê¸°ìˆ ì ì¸ ì´ìœ ë¡œ ê°™ì€ íŒŒì¼ì— ë‘ ì¢…ë¥˜ë¥¼ ì„ìœ¼ë©´ ì•ˆë˜ê³  ëŒ€ì‹ ì— server actionì„ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ import í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ê°™ì€ ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
