# 📌 `getStaticPaths()` 함수로 에러를 해결해 보자!

우선 [pid].js 파일에서 함수를 내보냄

- `getStaticPaths()`라는 또 다른 비동기 함수
- 동적 페이지의 어떤 인스턴스를 생성할지 NextJS에 알리는 것
- 그래서 `getStaticProps()`처럼 객체를 반환해야 하지만 객체의 값은 서로 다름. paths 키가 있는 객체여야 함. 즉 객체를 가진 배열이 됨
- 이 주어진 구조는 여기에 반환해야만 함.
  이 객체에 **params 키를 추가해야 하는데**, params는 여러 키-값 쌍이 있는 또 다른 객체를 가질 수 있으며 이때, 키는 이 페이지로 연결하는 각각의 동적 세그먼트 식별자
- 만약 폴더가 중첩되어 폴더 이름도 동적이라면 여러 식별자를 가질 수 있지만 여기서는 하나뿐임
  - 바로 pid, 그 값은 페이지가 생성되기 위한 구체적인 값
  - 예를 들면 이 페이지를 세 번 생성하는데 이 동적 페이지 식별자의 값은 p1, p2, p3이 됨. 따라서 pid를 p1으로 설정하고 반복
- 또 다른 객체를 추가해서 params를 또 다른 객체인 pid: 'p2'로 설정 세 번째도 반복
- 이렇게 하면 동적 페이지가 세 번 사전 생성되어야 하며 세 가지 값을 가진다는 사실을 NextJS에 알릴 수 있음(이 값들은 동적 세그먼트 식별자에 대한 값)
- 다음은 NextJS가 각 ID에 대해 getStaticProps()를 세 번 호출하고 그런 다음 이 함수 내부에서처럼 해당 ID를 추출할 수 있음
  - 이게 작동하려면 **paths 다음에 다른 키를 추가해야 함**
    - **fallback 키**인데, 지금은 false로 설정

### 전부 저장한 다음 예를 들어 localhost:3000/p2를 로딩하면 Product 2 페이지가 나타남

- 이제 정확한 페이지가 표시됨
- NextJS가 성공적으로 사전 생성했기 때문
- 그러므로 getStaticPaths()는 동적 페이지의 어떤 구체적인 인스턴스를 사전 생성할지 알려주는 함수라고 할 수 있음
