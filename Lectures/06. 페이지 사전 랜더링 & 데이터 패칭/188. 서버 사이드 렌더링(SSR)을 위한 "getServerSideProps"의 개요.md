### 지금까지 `getStaticProps`와 `getStaticPaths`를 살펴봤음

이 두 함수는 함께 작동하지만 항상 둘 다 필요한 건 아님!

- 현재 index.js 파일에는 getStaticProps만 필요
- 하지만 사전 생성한 동적 페이지엔 두 함수 모두 필요함

## 이 섹션 초반에 다룬 모듈 내용을 떠올릴 수 있을 것

( 사전 렌더링의 두 가지 방법 )

### 💡 정적 생성(Static Generation)과 서버 사이드 렌더링(SSR)

지금까지 살펴본 건 정적 생성. 페이지를 정적으로 사전 생성했으니까

증분 정적 생성이므로 완전히 정적이라고 할 순 없지만 일반적으로는 페이지를 사전 생성함

getStaticProps와 getStaticPaths 내부에서는 들어오는 실제 요청에 접근할 수 없음

- 이 함수들은 실제 요청만을 위해 호출한 게 아니기 때문

증분 정적 생성은 유효성 재검사가 필요할 때 유입되는 요청을 위해 호출하기도 하지만 일반적으로는 프로젝트를 구축할 때 호출

- 그러니 getStaticProps의 내부에서는 유입되는 실제 요청에 접근할 방법이 없고, 일반적으로 접근할 필요도 없음

우리가 작업하는 코드를 보면 서버에 도달하는 실제 요청에 접근할 필요가 없음

하지만 정적 생성만으로는 충분하지 않을 때가 있음. 이럴 때 실제로 서버 사이드 렌더링이 필요. 유입되는 모든 요청에 대한 페이지를 사전 렌더링하는 것

따라서 매초는 아니지만 유입되는 모든 요청에 대해서나 서버에 도달하는 특정 요청 객체에 접근할 필요가 있음

- 예를 들어 쿠키(Cookie)를 추출해야 하는 경우 추후 인증(Authentication)을 다루는 강의에서 설명할 내용이지만 NextJS는 서버 사이드 렌더링을 위한 코드도 지원함
- 즉 페이지 컴포넌트 파일을 추가할 수 있는 함수를 제공한다는 것. 페이지 요청이 서버에 도달할 때마다 실행되는 함수
- 빌드 시간이나 매초마다 사전 생성하지 않고 서버에서만 작동하는 코드
- 애플리케이션을 배포한 후 유입되는 모든 요청에 대해서만 재실행됨

getServerSideProps에 위에 해당하는 코드를 작성하는데 getStaticProps처럼 이 역시도 **비동기 함수**임

```jsx
export async function getServerSideProps() {}
```

이러한 코드로 호출해야 하고 내보내야(export) 함 그리고 이 함수는 페이지 컴포넌트 파일에만 추가할 수 있음

하지만 페이지 컴포넌트 파일에 이런 함수가 있으면 NextJS가 해당 함수를 실행함

해당 페이지에 대한 요청이 들어올 때마다 실행

그러므로 우리가 다룬 getStaticProps 함수나 getServerSideProps 함수 중 하나만 사용해야 함 충돌을 일으키니까

두 함수가 동일한 작업을 수행함. 둘 다 컴포넌트의 프로퍼티를 가져오는 함수로 NextJS가 해당 컴포넌트를 렌더링할 수 있지만 실행되는 시점에는 차이가 있음
